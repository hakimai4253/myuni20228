<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¬ä¸»çš„åƒç´ æ•¸å­¸é­”æ³•</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #ffeaa7;
            --screen-bg: #ffe0e9; /* ç²‰ç´…èƒŒæ™¯ */
            --border-color: #6c5ce7; /* ç´«è‰²é‚Šæ¡† */
            --accent-color: #e84393; /* æ·±ç²‰ç´…æŒ‰éˆ• */
            --text-color: #2d3436;
            --pixel-border: 4px solid var(--border-color);
        }

        body {
            font-family: 'VT323', monospace;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
            background-image: radial-gradient(#fab1a0 15%, transparent 16%), radial-gradient(#fab1a0 15%, transparent 16%);
            background-size: 20px 20px;
        }

        .game-console {
            background-color: #fff0f5;
            padding: 15px;
            border-radius: 20px;
            border: var(--pixel-border);
            box-shadow: 8px 8px 0px rgba(108, 92, 231, 0.4);
            max-width: 800px;
            width: 100%;
            position: relative;
        }

        /* é ‚éƒ¨ç‹€æ…‹æ¬„ */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fff;
            border: 2px solid var(--border-color);
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 10px;
        }

        .level-info {
            font-size: 1.5rem;
            color: var(--accent-color);
        }

        .exp-bar-container {
            width: 200px;
            height: 20px;
            background: #eee;
            border: 2px solid #000;
            margin-left: 10px;
            position: relative;
        }

        .exp-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #fd79a8, #e84393);
            width: 0%;
            transition: width 0.5s ease-out;
        }

        /* è£å‚™æ¬„ */
        .inventory {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            border-bottom: 2px dashed var(--accent-color);
            margin-bottom: 15px;
        }

        .item-slot {
            width: 50px;
            height: 50px;
            border: 2px solid var(--border-color);
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            position: relative;
            opacity: 0.3; /* æœªè§£é–åŠé€æ˜ */
            transition: all 0.3s;
        }

        .item-slot.unlocked {
            opacity: 1;
            background: #fff5e6;
            box-shadow: 2px 2px 0px rgba(0,0,0,0.1);
            border-color: #fdcb6e;
        }

        .item-slot .tooltip {
            visibility: hidden;
            width: 100px;
            background-color: var(--text-color);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 100%;
            left: 50%;
            margin-left: -50px;
            font-size: 1rem;
        }

        .item-slot:hover .tooltip {
            visibility: visible;
        }

        .screen {
            background-color: var(--screen-bg);
            border: var(--pixel-border);
            padding: 20px;
            border-radius: 10px;
            min-height: 300px;
        }

        h1 {
            text-align: center;
            font-size: 2.2rem;
            color: var(--accent-color);
            margin: 0 0 20px 0;
            text-shadow: 2px 2px 0px #fff;
        }

        .controls {
            text-align: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.6);
            padding: 10px;
            border-radius: 10px;
        }

        /* å…¬ä¸»é¢¨æ ¼æŒ‰éˆ• */
        .pixel-btn {
            background-color: var(--accent-color);
            border: 2px solid #000;
            color: #fff;
            padding: 10px 25px;
            font-family: 'VT323', monospace;
            font-size: 1.4rem;
            cursor: pointer;
            box-shadow: 4px 4px 0px rgba(0,0,0,0.2);
            transition: transform 0.1s;
            margin: 5px;
            border-radius: 5px;
        }

        .pixel-btn:hover {
            background-color: #d63031;
        }

        .pixel-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0px rgba(0,0,0,0.2);
        }

        .question-card {
            border: 2px solid #fff;
            background: rgba(255, 255, 255, 0.8);
            margin-bottom: 15px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 1.5rem;
            border-radius: 10px;
            box-shadow: 3px 3px 0px rgba(232, 67, 147, 0.2);
        }

        input[type="number"], input[type="text"] {
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            width: 80px;
            padding: 5px;
            border: 2px solid var(--border-color);
            border-radius: 5px;
            background: #fff;
            color: var(--accent-color);
            text-align: center;
        }

        canvas {
            background: #fff;
            border-radius: 50%;
            border: 4px solid var(--accent-color);
            margin-right: 15px;
        }

        .tag {
            background: var(--border-color);
            color: #fff;
            font-size: 0.9rem;
            padding: 4px 8px;
            margin-right: 10px;
            border-radius: 4px;
        }

        /* å‡ç´šèˆ‡çå‹µå‹•ç•«å€åŸŸ */
        #modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: #fff;
            padding: 30px;
            border: 6px solid gold;
            text-align: center;
            border-radius: 20px;
            animation: popIn 0.5s;
            max-width: 400px;
        }

        @keyframes popIn {
            0% { transform: scale(0); }
            80% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .level-up-text {
            color: var(--accent-color);
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .item-reveal {
            font-size: 5rem;
            margin: 20px 0;
            animation: float 2s infinite ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

    </style>
</head>
<body>

<div class="game-console">
    
    <div class="status-bar">
        <div style="display:flex; align-items:center;">
            <span id="player-avatar" style="font-size: 2.5rem; margin-right:10px;">ğŸ‘§</span>
            <div>
                <div class="level-info">Lv.<span id="level-display">1</span> <span id="title-display">è¦‹ç¿’å…¬ä¸»</span></div>
                <div class="exp-bar-container">
                    <div id="exp-bar" class="exp-bar-fill"></div>
                </div>
            </div>
        </div>
        <button class="pixel-btn" style="font-size:1rem; padding:5px 10px; background:#b2bec3;" onclick="resetProgress()">é‡ç½®é€²åº¦</button>
    </div>

    <div class="inventory" id="inventory-container">
        </div>

    <div class="screen">
        <h1>âœ¨ é­”æ³•æ•¸å­¸è©¦ç…‰ âœ¨</h1>
        
        <div class="controls">
            <label><input type="checkbox" id="opt-add" checked> åŠ æ³•é­”æ³•</label>
            <label><input type="checkbox" id="opt-sub" checked> æ¸›æ³•é­”æ³•</label>
            <label><input type="checkbox" id="opt-mul" checked> ä¹˜æ³•çµç•Œ</label>
            <label><input type="checkbox" id="opt-clock" checked> æ™‚é–“ä¹‹è¼ª</label>
            <label><input type="checkbox" id="opt-word" checked> æ™ºæ…§è€ƒé©—</label>
            <br><br>
            <button class="pixel-btn" onclick="generateQuiz()">å¬å–šé¡Œç›® (10é¡Œ)</button>
        </div>

        <div id="quiz-container">
            <p style="text-align: center; color: #636e72;">æº–å‚™å¥½äº†å—ï¼Œå…¬ä¸»æ®¿ä¸‹ï¼Ÿ<br>é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹æ”¶é›†é­”æ³•å¯¶çŸ³ï¼</p>
        </div>

        <div id="submit-area" style="text-align: center; display: none; margin-top:20px;">
            <button class="pixel-btn" style="background-color: #00b894;" onclick="checkAnswers()">æ–½å±•é­”æ³• (æäº¤)</button>
        </div>

        <div id="result-area" style="display: none; background: rgba(255,255,255,0.7); padding: 15px; margin-top: 20px; border-radius:10px;">
            <div id="score-display" style="font-size: 2rem; font-weight: bold; color: var(--accent-color);"></div>
            <div id="feedback-display" style="margin-top: 10px; line-height: 1.4;"></div>
        </div>
    </div>
</div>

<div id="modal-overlay">
    <div class="modal-content">
        <div class="level-up-text">LEVEL UP!</div>
        <p style="font-size:1.5rem;">æ­å–œå‡ç´šï¼ç²å¾—æ–°å¯¶ç‰©ï¼š</p>
        <div id="new-item-icon" class="item-reveal">ğŸ‘‘</div>
        <div id="new-item-name" style="font-size:1.5rem; font-weight:bold; color:#6c5ce7;">çš‡å† </div>
        <button class="pixel-btn" onclick="closeModal()">å¤ªæ£’äº†ï¼</button>
    </div>
</div>

<script>
    // --- éŠæˆ²è³‡æ–™è¨­å®š ---
    const gameData = {
        level: 1,
        xp: 0,
        xpToNext: 100,
        items: [] // å„²å­˜å·²è§£é–çš„ item ID
    };

    // é“å…·æ¸…å–® (Level å°æ‡‰çå‹µ)
    const rewards = [
        { lvl: 2, icon: "ğŸ€", name: "ç·å¸¶", desc: "åˆç´šè£é£¾" },
        { lvl: 3, icon: "ğŸ­", name: "æ³¢æ¿ç³–", desc: "è£œå……é­”åŠ›" },
        { lvl: 4, icon: "ğŸ§¸", name: "æ³°è¿ªç†Š", desc: "å¿ å¯¦å¤¥ä¼´" },
        { lvl: 5, icon: "ğŸ‘ ", name: "ç»ç’ƒé‹", desc: "è·‘å¾—æ›´å¿«" },
        { lvl: 6, icon: "ğŸ’", name: "å¯¶çŸ³æˆ’", desc: "é–ƒé–ƒç™¼å…‰" },
        { lvl: 7, icon: "ğŸ‘—", name: "ç¦®æœ", desc: "åƒåŠ èˆæœƒ" },
        { lvl: 8, icon: "ğŸ¦„", name: "ç¨è§’ç¸", desc: "ç¥ç¸åé¨" },
        { lvl: 9, icon: "ğŸª„", name: "é­”æ³•æ£’", desc: "é«˜éšæ³•åŠ›" },
        { lvl: 10, icon: "ğŸ‘‘", name: "å¥³ç‹å† ", desc: "ç‹åœ‹çµ±æ²»è€…" }
    ];

    const titles = ["è¦‹ç¿’ç”Ÿ", "åˆç´šå…¬ä¸»", "é­”æ³•å°‘å¥³", "çš‡å®¶å…¬ä¸»", "å¥³ç‹é™›ä¸‹"];

    // --- ç³»çµ±åˆå§‹åŒ–èˆ‡å­˜æª”è®€å– ---
    window.onload = function() {
        loadGame();
        updateUI();
        renderInventory();
    };

    function loadGame() {
        const saved = localStorage.getItem('princessMathSave');
        if (saved) {
            const parsed = JSON.parse(saved);
            gameData.level = parsed.level || 1;
            gameData.xp = parsed.xp || 0;
            gameData.xpToNext = parsed.xpToNext || 100;
            gameData.items = parsed.items || [];
        }
    }

    function saveGame() {
        localStorage.setItem('princessMathSave', JSON.stringify(gameData));
    }

    function resetProgress() {
        if(confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰ç­‰ç´šå’Œå¯¶ç‰©å—ï¼Ÿç„¡æ³•å¾©åŸå–”ï¼")) {
            localStorage.removeItem('princessMathSave');
            location.reload();
        }
    }

    // --- UI æ›´æ–°é‚è¼¯ ---
    function updateUI() {
        document.getElementById('level-display').innerText = gameData.level;
        
        // æ›´æ–°ç¨±è™Ÿ
        let titleIndex = Math.floor((gameData.level - 1) / 2);
        if(titleIndex >= titles.length) titleIndex = titles.length - 1;
        document.getElementById('title-display').innerText = titles[titleIndex];

        // æ›´æ–°é ­åƒ
        const avatarMap = ["ğŸ‘§", "ğŸ‘©â€ğŸ“", "ğŸ‘¸", "ğŸ§šâ€â™€ï¸", "ğŸ‘¸ğŸ‘‘"];
        document.getElementById('player-avatar').innerText = avatarMap[Math.min(titleIndex, 4)];

        // æ›´æ–°ç¶“é©—æ¢
        const percent = (gameData.xp / gameData.xpToNext) * 100;
        document.getElementById('exp-bar').style.width = percent + "%";
    }

    function renderInventory() {
        const container = document.getElementById('inventory-container');
        container.innerHTML = '';
        
        // æ°¸é é¡¯ç¤ºæ‰€æœ‰å¯èƒ½çš„æ ¼å­ï¼Œæœªè§£é–çš„è®Šç°
        rewards.forEach(r => {
            const isUnlocked = gameData.items.includes(r.lvl);
            const div = document.createElement('div');
            div.className = `item-slot ${isUnlocked ? 'unlocked' : ''}`;
            div.innerHTML = `
                ${r.icon}
                <span class="tooltip">${isUnlocked ? r.name : '??? (Lv.'+r.lvl+')'}</span>
            `;
            container.appendChild(div);
        });
    }

    function addXP(amount) {
        gameData.xp += amount;
        if (gameData.xp >= gameData.xpToNext) {
            levelUp();
        }
        updateUI();
        saveGame();
    }

    function levelUp() {
        gameData.xp = gameData.xp - gameData.xpToNext;
        gameData.level++;
        gameData.xpToNext = Math.floor(gameData.xpToNext * 1.2); // å‡ç´šé›£åº¦å¢åŠ 
        
        // æª¢æŸ¥æ˜¯å¦æœ‰çå‹µ
        const reward = rewards.find(r => r.lvl === gameData.level);
        if (reward && !gameData.items.includes(reward.lvl)) {
            gameData.items.push(reward.lvl);
            showLevelUpModal(reward);
        } else {
            // å–®ç´”å‡ç´šéŸ³æ•ˆæˆ–ç‰¹æ•ˆ (é€™è£¡ç”¨ç°¡å–® alert æ›¿ä»£ï¼Œæˆ–å¯åšå°å‹•ç•«)
            // é€™è£¡æˆ‘å€‘ç›´æ¥ç”¨é€šç”¨çš„å½ˆçª—é¡¯ç¤ºç­‰ç´šæå‡
             showLevelUpModal({name: "èƒ½åŠ›æå‡", icon: "âœ¨"});
        }
        renderInventory();
    }

    function showLevelUpModal(item) {
        document.getElementById('new-item-icon').innerText = item.icon;
        document.getElementById('new-item-name').innerText = item.name;
        document.getElementById('modal-overlay').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('modal-overlay').style.display = 'none';
    }

    // --- æ•¸å­¸æ¸¬é©—é‚è¼¯ (ä¿ç•™åŸæ ¸å¿ƒä¸¦å„ªåŒ–) ---
    let currentQuestions = [];
    
    function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

    // ç•«æ™‚é˜ (ç¶­æŒä¸è®Šï¼Œåƒ…é¡è‰²å¾®èª¿)
    function drawClock(canvasId, hour, minute) {
        const canvas = document.getElementById(canvasId);
        const ctx = canvas.getContext("2d");
        const radius = canvas.height / 2;
        ctx.translate(radius, radius);
        const r = radius * 0.90;

        ctx.beginPath(); ctx.arc(0, 0, r, 0, 2 * Math.PI);
        ctx.fillStyle = '#fff'; ctx.fill();
        ctx.lineWidth = 4; ctx.strokeStyle = '#e84393'; ctx.stroke();

        ctx.font = radius * 0.25 + "px VT323";
        ctx.textBaseline = "middle"; ctx.textAlign = "center"; ctx.fillStyle = "#6c5ce7";
        for(let num = 1; num < 13; num++){
            let ang = num * Math.PI / 6;
            ctx.rotate(ang); ctx.translate(0, -r * 0.80); ctx.rotate(-ang);
            ctx.fillText(num.toString(), 0, 0);
            ctx.rotate(ang); ctx.translate(0, r * 0.80); ctx.rotate(-ang);
        }

        let hPos = (hour % 12) * Math.PI / 6 + (minute * Math.PI / (6 * 60));
        drawHand(ctx, hPos, r * 0.5, 5, "#2d3436");
        let mPos = (minute * Math.PI / 30);
        drawHand(ctx, mPos, r * 0.75, 3, "#e84393");
        ctx.translate(-radius, -radius);
    }

    function drawHand(ctx, pos, length, width, color) {
        ctx.beginPath(); ctx.lineWidth = width; ctx.lineCap = "round"; ctx.strokeStyle = color;
        ctx.moveTo(0,0); ctx.rotate(pos); ctx.lineTo(0, -length); ctx.stroke(); ctx.rotate(-pos);
    }

    function generateQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';
        currentQuestions = [];
        let types = [];
        if(document.getElementById('opt-add').checked) types.push('add');
        if(document.getElementById('opt-sub').checked) types.push('sub');
        if(document.getElementById('opt-mul').checked) types.push('mul');
        if(document.getElementById('opt-clock').checked) types.push('clock');
        if(document.getElementById('opt-word').checked) types.push('word');

        if(types.length === 0) {
            container.innerHTML = '<p style="color:red; text-align:center;">å…¬ä¸»æ®¿ä¸‹ï¼Œè«‹è‡³å°‘é¸æ“‡ä¸€ç¨®é­”æ³•è©¦ç…‰ï¼</p>';
            return;
        }

        for (let i = 0; i < 10; i++) {
            const type = types[Math.floor(Math.random() * types.length)];
            createQuestion(i, type);
        }
        document.getElementById('submit-area').style.display = 'block';
        document.getElementById('result-area').style.display = 'none';

        setTimeout(() => {
            currentQuestions.forEach((q, index) => {
                if(q.type === 'clock') drawClock(`clock-${index}`, q.h, q.m);
            });
        }, 100);
    }

    function createQuestion(index, type) {
        const container = document.getElementById('quiz-container');
        const div = document.createElement('div');
        div.className = 'question-card';
        let qObj = { type: type, correct: null };
        let html = '';

        if (type === 'add') {
            const n1 = getRandomInt(10, 99); const n2 = getRandomInt(10, 99);
            qObj.correct = n1 + n2;
            html = `<span class="tag">åŠ æ³•</span> <span>${n1} + ${n2} = ?</span>`;
        } else if (type === 'sub') {
            let n1 = getRandomInt(10, 99); let n2 = getRandomInt(10, 99);
            if(n1 < n2) [n1, n2] = [n2, n1];
            qObj.correct = n1 - n2;
            html = `<span class="tag">æ¸›æ³•</span> <span>${n1} - ${n2} = ?</span>`;
        } else if (type === 'mul') {
            const n1 = getRandomInt(2, 9); const n2 = getRandomInt(2, 9);
            qObj.correct = n1 * n2;
            html = `<span class="tag">ä¹˜æ³•</span> <span>${n1} Ã— ${n2} = ?</span>`;
        } else if (type === 'clock') {
            const h = getRandomInt(1, 12); const m = getRandomInt(0, 11) * 5;
            qObj.h = h; qObj.m = m;
            qObj.correct = `${h}:${m.toString().padStart(2, '0')}`;
            html = `<span class="tag">æ™‚é–“</span> <canvas id="clock-${index}" width="80" height="80"></canvas><span>æ˜¯å¹¾é»å¹¾åˆ†?</span>`;
        } else if (type === 'word') {
             const scenarios = [
                { text: "å…¬ä¸»æœ‰ {n1} é¡†å¯¶çŸ³ï¼Œåœ‹ç‹åˆçµ¦äº†å¥¹ {n2} é¡†ï¼Œç¾åœ¨æœ‰å¹¾é¡†ï¼Ÿ", op: "+", min:10, max:40 },
                { text: "èŠ±åœ’è£¡æœ‰ {n1} æœµç«ç‘°ï¼Œæ¡èµ°äº† {n2} æœµï¼Œé‚„å‰©å¹¾æœµï¼Ÿ", op: "-", min:20, max:50 },
                { text: "æ¯éš»ç¨è§’ç¸åƒ {n1} å€‹è˜‹æœï¼Œ{n2} éš»ç¨è§’ç¸å…±åƒå¹¾å€‹ï¼Ÿ", op: "*", min:2, max:9 },
                { text: "å®´æœƒ {n1} é»é–‹å§‹ï¼ŒæŒçºŒ 2 å°æ™‚ï¼Œå¹¾é»çµæŸï¼Ÿ", op: "time", min:1, max:9 }
            ];
            const s = scenarios[getRandomInt(0, scenarios.length - 1)];
            let n1 = getRandomInt(s.min, s.max);
            let n2 = getRandomInt(s.min, s.max);
            if(s.op === '-') { if(n1 < n2) [n1, n2] = [n2, n1]; qObj.correct = n1 - n2; }
            else if (s.op === '+') qObj.correct = n1 + n2;
            else if (s.op === '*') qObj.correct = n1 * n2;
            else if (s.op === 'time') { n2 = 2; qObj.correct = n1 + n2; }
            
            let qText = s.text.replace('{n1}', n1).replace('{n2}', n2);
            html = `<span class="tag">æ‡‰ç”¨</span> <span style="font-size:1.2rem; flex:1; margin:0 10px;">${qText}</span>`;
        }

        html += `<input type="text" id="ans-${index}">`;
        div.innerHTML = html;
        container.appendChild(div);
        currentQuestions.push(qObj);
    }

    function checkAnswers() {
        let correctCount = 0;
        let earnedXP = 0;
        let feedbackHTML = "<h3>ğŸ“œ çš‡å®¶æˆç¸¾å–®ï¼š</h3><ul>";

        currentQuestions.forEach((q, index) => {
            const input = document.getElementById(`ans-${index}`);
            let val = input.value.trim();
            let isCorrect = false;

            if (q.type === 'clock') {
                let parts = val.split(/[:ï¼š]/);
                if(parts.length === 2 && parseInt(parts[0]) + ":" + parseInt(parts[1]).toString().padStart(2,'0') === q.correct) isCorrect = true;
            } else {
                if(parseInt(val) === q.correct) isCorrect = true;
            }

            if (isCorrect) {
                input.style.backgroundColor = "#55efc4";
                correctCount++;
                earnedXP += 10; // æ¯é¡Œ 10 XP
            } else {
                input.style.backgroundColor = "#fab1a0";
                let span = document.createElement('span');
                span.style.color = "#d63031"; span.style.marginLeft = "5px";
                span.innerText = `(${q.correct})`;
                if(!input.nextSibling || input.nextSibling.tagName !== 'SPAN') input.parentNode.appendChild(span);
            }
        });

        // ç”Ÿæˆè©•èª
        if(correctCount === 10) feedbackHTML += "<li>ğŸ’– å®Œç¾ï¼å…¬ä¸»å±•ç¾äº†é©šäººçš„æ™ºæ…§ï¼ (+100 XP)</li>";
        else if(correctCount >= 7) feedbackHTML += "<li>âœ¨ åšå¾—å¾ˆå¥½ï¼å†ä¸€é»é»å°±å®Œç¾äº†ï¼</li>";
        else feedbackHTML += "<li>ğŸ“š åˆ¥ç°å¿ƒï¼Œå…¬ä¸»ä¹Ÿæ˜¯éœ€è¦ç·´ç¿’çš„ï¼</li>";
        feedbackHTML += "</ul>";

        // é¡¯ç¤ºçµæœ
        document.getElementById('result-area').style.display = 'block';
        document.getElementById('score-display').innerText = `å¾—åˆ†ï¼š${correctCount * 10} åˆ†`;
        document.getElementById('feedback-display').innerHTML = feedbackHTML;
        document.getElementById('submit-area').style.display = 'none';

        // çµç®—ç¶“é©—å€¼
        if(earnedXP > 0) {
            addXP(earnedXP);
        }
        
        // æ»¾å‹•åˆ°åº•éƒ¨
        document.getElementById('result-area').scrollIntoView({behavior: "smooth"});
    }
</script>

</body>
</html>